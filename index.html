<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy Birthday Ruth Patience üíñ</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Lato:wght@300;400&display=swap" rel="stylesheet">
<style>
*, *::before, *::after { margin:0; padding:0; box-sizing:border-box; }

:root {
  --rose: #e8537a;
  --rose-light: #f9a8c0;
  --rose-pale: #fde8ef;
  --mauve: #7a1f4a;
  --gold: #d4a054;
  --cream: #fff8f2;
}

html { scroll-behavior: smooth; }

body {
  font-family: 'Lato', sans-serif;
  background: var(--cream);
  color: var(--mauve);
  overflow-x: hidden;
}

/* ‚îÄ‚îÄ‚îÄ CONFETTI ‚îÄ‚îÄ‚îÄ */
.confetti-piece {
  position: fixed;
  width: 8px; height: 8px;
  top: -20px;
  border-radius: 2px;
  pointer-events: none;
  z-index: 9999;
  animation: confettiFall linear forwards;
}
@keyframes confettiFall {
  to { transform: translateY(110vh) rotate(720deg); opacity: 0; }
}

/* ‚îÄ‚îÄ‚îÄ PAGES ‚îÄ‚îÄ‚îÄ */
.page {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 40px 24px;
  position: relative;
}

.hidden { display: none !important; }

/* ‚îÄ‚îÄ PAGE 1 : ACCUEIL ‚îÄ‚îÄ */
#page-home {
  background: linear-gradient(160deg, #fff0f5 0%, #fce4ec 50%, #f8bbd0 100%);
}

.petals-bg {
  position: absolute; inset: 0;
  overflow: hidden; pointer-events: none; z-index: 0;
}
.petal {
  position: absolute;
  font-size: 1.4rem;
  opacity: 0.25;
  animation: drift linear infinite;
}
@keyframes drift {
  from { transform: translateY(-60px) rotate(0deg); opacity: 0.3; }
  to   { transform: translateY(110vh) rotate(360deg); opacity: 0; }
}

.home-content {
  position: relative; z-index: 1;
  display: flex; flex-direction: column; align-items: center;
  animation: fadeUp 1s ease both;
}
@keyframes fadeUp {
  from { opacity:0; transform: translateY(30px); }
  to   { opacity:1; transform: translateY(0); }
}

.subtitle {
  font-family: 'Playfair Display', serif;
  font-style: italic;
  font-size: 0.95rem;
  color: var(--rose);
  letter-spacing: 2px;
  margin-bottom: 10px;
}

h1.hero-title {
  font-family: 'Playfair Display', serif;
  font-size: clamp(2rem, 6vw, 3.2rem);
  line-height: 1.2;
  margin-bottom: 6px;
  text-align: center;
}
h1.hero-title span { color: var(--rose); }

.divider {
  width: 60px; height: 2px;
  background: linear-gradient(90deg, var(--rose-light), var(--gold));
  border-radius: 2px;
  margin: 18px auto;
}

.hero-text {
  font-size: 1rem;
  line-height: 1.8;
  max-width: 480px;
  text-align: center;
  color: #7a3a55;
  margin-bottom: 24px;
}

/* PHOTO SLIDER */
.slider-frame {
  position: relative;
  width: 100%;
  max-width: 320px;
  margin-bottom: 24px;
}
.slider-frame::before {
  content: '';
  position: absolute;
  inset: -6px;
  border-radius: 26px;
  background: linear-gradient(135deg, var(--rose), var(--gold), var(--rose-light));
  z-index: 0;
  animation: borderPulse 3s ease-in-out infinite;
}
@keyframes borderPulse {
  0%,100% { opacity: 1; }
  50% { opacity: 0.7; }
}
.slider-inner {
  position: relative; z-index: 1;
  width: 100%;
  border-radius: 20px;
  overflow: hidden;
  aspect-ratio: 4/5;
  background: #f5d0de;
}
.slide {
  position: absolute; inset: 0;
  opacity: 0;
  transition: opacity 0.8s ease, transform 0.8s ease;
  transform: scale(1.04);
}
.slide.active {
  opacity: 1;
  transform: scale(1);
}
.slide img {
  width: 100%; height: 100%;
  object-fit: cover;
  display: block;
}
.slide-placeholder {
  width: 100%; height: 100%;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  background: linear-gradient(135deg, #fde8ef, #f9c8d8);
  color: var(--mauve);
  font-size: 3rem;
  gap: 10px;
}
.slide-placeholder span {
  font-family: 'Lato', sans-serif;
  font-size: 0.8rem;
  letter-spacing: 1px;
  opacity: 0.6;
}
/* Dots navigation */
.slider-dots {
  position: absolute;
  bottom: 10px; left: 0; right: 0;
  display: flex; justify-content: center; gap: 7px;
  z-index: 2;
}
.s-dot {
  width: 7px; height: 7px;
  border-radius: 50%;
  background: rgba(255,255,255,0.5);
  cursor: pointer;
  transition: all 0.3s;
  border: none;
  padding: 0;
}
.s-dot.active {
  background: white;
  transform: scale(1.3);
}
/* Arrows */
.slider-arrow {
  position: absolute;
  top: 50%; transform: translateY(-50%);
  z-index: 2;
  background: rgba(255,255,255,0.7);
  border: none;
  border-radius: 50%;
  width: 32px; height: 32px;
  font-size: 1rem;
  cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  transition: background 0.2s;
  backdrop-filter: blur(4px);
}
.slider-arrow:hover { background: white; }
.slider-arrow.prev { left: 10px; }
.slider-arrow.next { right: 10px; }

/* MUSIC BUTTON */
.music-btn {
  display: flex; align-items: center; gap: 10px;
  padding: 12px 28px;
  border: 2px solid var(--rose);
  border-radius: 50px;
  background: transparent;
  color: var(--rose);
  font-family: 'Lato', sans-serif;
  font-size: 0.95rem;
  font-weight: 600;
  letter-spacing: 1px;
  cursor: pointer;
  transition: all 0.3s;
  margin-bottom: 14px;
}
.music-btn:hover, .music-btn.playing {
  background: var(--rose);
  color: white;
}
.music-icon { font-size: 1.2rem; }
.eq-bars {
  display: none; gap: 2px; align-items: flex-end; height: 16px;
}
.music-btn.playing .eq-bars { display: flex; }
.music-btn.playing .music-label::before { content: 'En lecture '; }
.eq-bar {
  width: 3px; background: white; border-radius: 2px;
  animation: eq 0.6s ease-in-out infinite alternate;
}
.eq-bar:nth-child(2) { animation-delay: 0.2s; }
.eq-bar:nth-child(3) { animation-delay: 0.4s; }
@keyframes eq {
  from { height: 4px; }
  to   { height: 14px; }
}

/* CTA BUTTON */
.btn-primary {
  padding: 14px 36px;
  background: linear-gradient(135deg, var(--rose), #c94070);
  color: white;
  border: none;
  border-radius: 50px;
  font-size: 1rem;
  font-family: 'Lato', sans-serif;
  font-weight: 700;
  letter-spacing: 1px;
  cursor: pointer;
  box-shadow: 0 6px 24px rgba(232, 83, 122, 0.45);
  transition: all 0.3s;
}
.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 30px rgba(232, 83, 122, 0.55);
}

/* ‚îÄ‚îÄ PAGE 2 : QUIZ ‚îÄ‚îÄ */
#page-quiz {
  background: linear-gradient(160deg, #fff8f2 0%, #fce4ec 100%);
}

.quiz-wrap {
  width: 100%; max-width: 520px;
  animation: fadeUp 0.6s ease both;
}

.quiz-progress {
  display: flex; gap: 8px; justify-content: center;
  margin-bottom: 28px;
}
.progress-dot {
  width: 10px; height: 10px;
  border-radius: 50%;
  background: #f0c4d4;
  transition: background 0.4s;
}
.progress-dot.done { background: var(--rose); }

.quiz-card {
  background: white;
  border-radius: 24px;
  padding: 32px 28px;
  box-shadow: 0 8px 40px rgba(180, 60, 100, 0.12);
  text-align: center;
}

.quiz-q-num {
  font-size: 0.8rem;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--rose-light);
  margin-bottom: 10px;
}

.quiz-question {
  font-family: 'Playfair Display', serif;
  font-size: 1.3rem;
  margin-bottom: 26px;
  line-height: 1.5;
  color: var(--mauve);
}

.quiz-options { display: flex; flex-direction: column; gap: 12px; }

.quiz-opt {
  padding: 13px 20px;
  border-radius: 50px;
  border: 2px solid #f5d0de;
  background: var(--cream);
  color: var(--mauve);
  font-size: 0.95rem;
  cursor: pointer;
  transition: all 0.25s;
  font-family: 'Lato', sans-serif;
}
.quiz-opt:hover {
  background: var(--rose);
  border-color: var(--rose);
  color: white;
  transform: scale(1.02);
}

/* ‚îÄ‚îÄ PAGE 3 : JEU M√âMOIRE ‚îÄ‚îÄ */
#page-game {
  background: linear-gradient(160deg, #fce4ec 0%, #f8bbd0 100%);
}

.game-wrap {
  width: 100%; max-width: 480px;
  text-align: center;
  animation: fadeUp 0.6s ease both;
}

.game-wrap h2 {
  font-family: 'Playfair Display', serif;
  font-size: 1.6rem;
  margin-bottom: 8px;
}

.game-wrap p { margin-bottom: 20px; color: #7a3a55; }

.game-board {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 12px;
  max-width: 360px;
  margin: 0 auto 24px;
}

.card {
  aspect-ratio: 1;
  border-radius: 16px;
  cursor: pointer;
  position: relative;
  transform-style: preserve-3d;
  transition: transform 0.45s ease;
}
.card.flipped { transform: rotateY(180deg); }

.card-face {
  position: absolute; inset: 0;
  border-radius: 16px;
  display: flex; align-items: center; justify-content: center;
  backface-visibility: hidden;
  -webkit-backface-visibility: hidden;
}
.card-back {
  background: linear-gradient(135deg, #f9a8c0, #e8537a);
  font-size: 1.3rem;
}
.card-front {
  background: white;
  font-size: 1.8rem;
  transform: rotateY(180deg);
  box-shadow: 0 4px 16px rgba(180,60,100,0.15);
}
.card.matched .card-front {
  background: linear-gradient(135deg, #fde8ef, #f9c8d8);
}

.game-score {
  font-size: 0.9rem;
  color: #a05070;
  margin-bottom: 6px;
}

/* ‚îÄ‚îÄ PAGE 4 : FINALE ‚îÄ‚îÄ */
#page-final {
  background: linear-gradient(160deg, #2a0618 0%, #5c0f30 60%, #8a1a4e 100%);
  color: white;
}

#page-final h2 {
  font-family: 'Playfair Display', serif;
  font-size: clamp(1.8rem, 5vw, 2.8rem);
  color: var(--rose-light);
  margin-bottom: 10px;
  text-align: center;
  animation: fadeUp 0.8s ease both;
}

.final-msg {
  font-size: 1rem;
  line-height: 1.9;
  text-align: center;
  max-width: 420px;
  color: #f5c0d5;
  margin-bottom: 28px;
  animation: fadeUp 0.8s 0.2s ease both;
}

/* Vid√©o finale */
.final-video-frame {
  position: relative;
  width: 100%;
  max-width: 340px;
  margin-bottom: 28px;
  animation: fadeUp 0.8s 0.3s ease both;
}
.final-video-frame::before {
  content: '';
  position: absolute;
  inset: -5px;
  border-radius: 22px;
  background: linear-gradient(135deg, rgba(232,83,122,0.6), rgba(212,160,84,0.6));
  z-index: 0;
}
.final-video-frame video {
  position: relative; z-index: 1;
  width: 100%;
  border-radius: 18px;
  display: block;
}

.qr-frame {
  background: white;
  padding: 14px;
  border-radius: 20px;
  margin-bottom: 24px;
  box-shadow: 0 8px 30px rgba(0,0,0,0.3);
  animation: fadeUp 0.8s 0.4s ease both;
}
.qr-frame img {
  width: 160px; height: 160px;
  border-radius: 10px;
  display: block;
}
.qr-label {
  font-size: 0.75rem;
  color: var(--mauve);
  margin-top: 8px;
  text-align: center;
  font-weight: 600;
  letter-spacing: 1px;
}

.btn-whatsapp {
  display: flex; align-items: center; gap: 10px;
  padding: 14px 32px;
  background: #25D366;
  color: white;
  border: none;
  border-radius: 50px;
  font-size: 1rem;
  font-weight: 700;
  font-family: 'Lato', sans-serif;
  cursor: pointer;
  text-decoration: none;
  box-shadow: 0 6px 24px rgba(37, 211, 102, 0.4);
  transition: all 0.3s;
  margin-bottom: 16px;
  animation: fadeUp 0.8s 0.6s ease both;
}
.btn-whatsapp:hover {
  transform: translateY(-2px);
  box-shadow: 0 10px 30px rgba(37, 211, 102, 0.55);
}

.btn-back {
  padding: 11px 28px;
  border: 2px solid rgba(255,255,255,0.3);
  border-radius: 50px;
  background: transparent;
  color: rgba(255,255,255,0.7);
  font-size: 0.9rem;
  font-family: 'Lato', sans-serif;
  cursor: pointer;
  transition: all 0.3s;
  animation: fadeUp 0.8s 0.7s ease both;
}
.btn-back:hover {
  background: rgba(255,255,255,0.1);
  color: white;
  border-color: rgba(255,255,255,0.6);
}

/* Page title shared */
.page-title {
  font-family: 'Playfair Display', serif;
  font-size: clamp(1.5rem, 4vw, 2.2rem);
  margin-bottom: 6px;
  text-align: center;
}
.page-sub {
  font-size: 0.95rem;
  color: #a05070;
  margin-bottom: 24px;
  text-align: center;
}
</style>
</head>
<body>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PAGE 1 : ACCUEIL ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page" id="page-home">
  <div class="petals-bg" id="petalsContainer"></div>

  <div class="home-content">
    <div class="subtitle">‚ú¶ une attention sinc√®re, rien que pour toi ‚ú¶</div>

    <h1 class="hero-title">
      Joyeux Anniversaire<br><span>Ruth Patience</span>
    </h1>

    <div class="divider"></div>

    <p class="hero-text">
      Il y a des personnes que l'on croise et qui laissent,<br>
      sans effort, une empreinte durable.<br><br>
      Aujourd'hui est le jour o√π tu es venue au monde ‚Äî<br>
      et le monde en est, sans aucun doute, plus int√©ressant.<br><br>
      J'ai voulu marquer ce moment √† ma fa√ßon.
    </p>

    <!-- Slider 3 photos -->
    <div class="slider-frame">
      <div class="slider-inner" id="slider">
        <div class="slide active">
          <img src="photo1.jpeg" alt="Ruth Patience" onerror="this.parentElement.innerHTML='<div class=&quot;slide-placeholder&quot;>üå∏<span>photo1.jpeg</span></div>'">
        </div>
        <div class="slide">
          <img src="photo2.jpeg" alt="Ruth Patience" onerror="this.parentElement.innerHTML='<div class=&quot;slide-placeholder&quot;>üíñ<span>photo2.jpeg</span></div>'">
        </div>
        <div class="slide">
          <img src="photo3.jpeg" alt="Ruth Patience" onerror="this.parentElement.innerHTML='<div class=&quot;slide-placeholder&quot;>‚ú®<span>photo3.jpeg</span></div>'">
        </div>
        <button class="slider-arrow prev" onclick="slideMove(-1)">&#x2039;</button>
        <button class="slider-arrow next" onclick="slideMove(1)">&#x203a;</button>
        <div class="slider-dots" id="sliderDots"></div>
      </div>
    </div>

    <!-- Bouton Play Musique -->
    <button class="music-btn" id="musicBtn" onclick="toggleMusic()">
      <span class="music-icon">üéµ</span>
      <span class="music-label">Lancer la musique</span>
      <div class="eq-bars">
        <div class="eq-bar"></div>
        <div class="eq-bar"></div>
        <div class="eq-bar"></div>
      </div>
    </button>

    <button class="btn-primary" onclick="goTo('quiz')">
      Continuer ‚Üí
    </button>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PAGE 2 : QUIZ ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page hidden" id="page-quiz">
  <div class="quiz-wrap">
    <div class="page-title">Un petit jeu rien que pour toi üéÇ</div>
    <p class="page-sub">4 questions l√©g√®res, pas de prise de t√™te ‚Äî juste du plaisir.</p>

    <div class="quiz-progress" id="quizProgress"></div>

    <div class="quiz-card" id="quizCard">
      <div class="quiz-q-num" id="quizQNum"></div>
      <div class="quiz-question" id="quizQuestion"></div>
      <div class="quiz-options" id="quizOptions"></div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PAGE 3 : JEU M√âMOIRE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page hidden" id="page-game">
  <div class="game-wrap">
    <div class="page-title">Presque l√†‚Ä¶ üéÅ</div>
    <p>Un petit jeu de m√©moire pour finir ‚Äî retrouve les quatre paires cach√©es.</p>

    <div class="game-score">Paires trouv√©es : <strong id="pairesCount">0</strong> / 4</div>
    <div class="game-board" id="gameBoard"></div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê PAGE 4 : FINALE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="page hidden" id="page-final">
  <h2 id="finalTitle">Joyeux anniversaire, Ruth üéâ</h2>

  <p class="final-msg" id="finalMsg">
    Tu m√©ritais quelque chose d'unique pour ce jour.<br><br>
    Quelqu'un a pens√© √† toi, pris le temps de cr√©er √ßa ‚Äî<br>
    pas pour impressionner, mais parce que certaines personnes<br>
    m√©ritent qu'on fasse un effort.<br><br>
    Si tu veux savoir qui se cache derri√®re tout √ßa‚Ä¶ üëÄ
  </p>

  <!-- Vid√©o finale ‚Äî remplace final.mp4 par ton fichier -->
  <div class="final-video-frame">
    <video id="finalVideo" controls playsinline>
      <source src="final.mp4" type="video/mp4">
    </video>
  </div>

  <!-- Remplace qr.jpeg par ton vrai QR code WhatsApp -->
  <div class="qr-frame">
    <img src="qr.jpeg" alt="QR Code WhatsApp" onerror="this.src='https://api.qrserver.com/v1/create-qr-code/?size=160x160&data=https://wa.me/TONNUMERO&color=7a1f4a'">
    <div class="qr-label">Scanner pour engager la conversation</div>
  </div>

  <button class="btn-back" onclick="goHome()">‚Üê Recommencer depuis le d√©but</button>
</div>

<audio id="bgMusic" src="music1.mp3" loop></audio>

<script>
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ P√âTALES ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
(function createPetals(){
  const container = document.getElementById('petalsContainer');
  const petalEmojis = ['üå∏','üå∑','üíñ','‚ú®','üåπ'];
  for(let i = 0; i < 18; i++){
    const p = document.createElement('div');
    p.className = 'petal';
    p.textContent = petalEmojis[Math.floor(Math.random() * petalEmojis.length)];
    p.style.left = Math.random() * 100 + 'vw';
    p.style.animationDuration = (6 + Math.random() * 8) + 's';
    p.style.animationDelay = (Math.random() * 10) + 's';
    p.style.fontSize = (0.8 + Math.random() * 1.2) + 'rem';
    container.appendChild(p);
  }
})();

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ MUSIQUE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const audio = document.getElementById('bgMusic');
const musicBtn = document.getElementById('musicBtn');

function toggleMusic(){
  if(audio.paused){
    audio.play().catch(()=>{});
    musicBtn.classList.add('playing');
    musicBtn.querySelector('.music-label').textContent = 'En lecture';
  } else {
    audio.pause();
    musicBtn.classList.remove('playing');
    musicBtn.querySelector('.music-label').textContent = 'Lancer la musique';
  }
}

// Restaurer la musique si elle jouait avant un goHome()
(function restoreMusic(){
  const wasPlaying = sessionStorage.getItem('musicPlaying') === 'true';
  const savedTime  = parseFloat(sessionStorage.getItem('musicTime') || '0');
  sessionStorage.removeItem('musicPlaying');
  sessionStorage.removeItem('musicTime');
  if(wasPlaying){
    audio.currentTime = savedTime;
    audio.play().catch(()=>{});
    musicBtn.classList.add('playing');
    musicBtn.querySelector('.music-label').textContent = 'En lecture';
  }
})();

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ NAVIGATION ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function goTo(page){
  document.querySelectorAll('.page').forEach(p => p.classList.add('hidden'));
  if(page === 'quiz'){
    document.getElementById('page-quiz').classList.remove('hidden');
    initQuiz();
  } else if(page === 'game'){
    document.getElementById('page-game').classList.remove('hidden');
    initGame();
  } else if(page === 'final'){
    document.getElementById('page-final').classList.remove('hidden');
    launchConfetti();
  }
}

function goHome(){
  // On recharge sans couper la musique : on note la position avant reload
  sessionStorage.setItem('musicTime', audio.currentTime);
  sessionStorage.setItem('musicPlaying', !audio.paused);
  location.reload();
}

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ QUIZ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// Les r√©ponses sont stock√©es pour personnaliser le message final
const quizAnswers = [];

const questions = [
  {
    q: "C'est ton anniversaire ‚Äî quelle etait ta premi√®re envie du matin ?",
    emoji: "üåÖ",
    opts: [
      "Rester au lit le plus longtemps possible",
      "Attendre les messages qui arrivent",
      "Commencer la journ√©e comme une autre",
      "Pr√©parer quelque chose de sp√©cial pour moi"
    ]
  },
  {
    q: "Le g√¢teau d'anniversaire id√©al pour Ruth Patience, c'est‚Ä¶",
    emoji: "üéÇ",
    opts: [
      "Au chocolat, sans h√©sitation",
      "Aux fruits rouges, l√©ger et frais",
      "Une surprise ‚Äî peu importe du moment que c'est fait avec soin",
      "Peu importe le g√¢teau, c'est le moment qui compte"
    ]
  },
  {
    q: "Quelqu'un que tu ne connais pas te cr√©e une surprise digitale pour ton anniversaire. Ta premi√®re r√©action ?",
    emoji: "üíå",
    opts: [
      "De la curiosit√© ‚Äî qui est derri√®re √ßa ?",
      "De la surprise ‚Äî c'est inattendu",
      "De la touche ‚Äî ce genre d'attention me touche",
      "Du sourire ‚Äî forc√©ment"
    ]
  },
  {
    q: "Ce soir, pour f√™ter √ßa comme il se doit, tu choisis‚Ä¶",
    emoji: "üåô",
    opts: [
      "Une sortie avec mes proches, bruyante et joyeuse",
      "Un d√Æner calme, bonne ambiance, bonne musique",
      "Un moment pour moi, tranquille et ressour√ßant",
      "Laisser les autres d√©cider ‚Äî c'est leur journ√©e autant que la mienne"
    ]
  }
];

let currentQ = 0;

function initQuiz(){
  currentQ = 0;
  buildProgress();
  loadQuestion();
}

function buildProgress(){
  const prog = document.getElementById('quizProgress');
  prog.innerHTML = '';
  questions.forEach((_, i) => {
    const dot = document.createElement('div');
    dot.className = 'progress-dot';
    dot.id = 'dot-' + i;
    prog.appendChild(dot);
  });
}

function loadQuestion(){
  if(currentQ >= questions.length){
    goTo('game');
    return;
  }

  const q = questions[currentQ];
  document.getElementById('quizQNum').textContent = q.emoji + '  ' + (currentQ + 1) + ' / ' + questions.length;
  document.getElementById('quizQuestion').textContent = q.q;

  const opts = document.getElementById('quizOptions');
  opts.innerHTML = '';

  // Animate card
  const card = document.getElementById('quizCard');
  card.style.opacity = '0'; card.style.transform = 'translateY(20px)';
  setTimeout(() => {
    card.style.transition = 'all 0.4s ease';
    card.style.opacity = '1'; card.style.transform = 'translateY(0)';
  }, 50);

  q.opts.forEach(opt => {
    const btn = document.createElement('button');
    btn.className = 'quiz-opt';
    btn.textContent = opt;
    btn.onclick = () => nextQuestion(opt);
    opts.appendChild(btn);
  });
}

function nextQuestion(chosenOpt){
  quizAnswers.push(chosenOpt);
  document.getElementById('dot-' + currentQ).classList.add('done');
  currentQ++;
  setTimeout(loadQuestion, 300);
}

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ JEU M√âMOIRE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const EMOJIS = ['üíñ','üå∏','‚ú®','üòç'];
let cardData = [];
let flipped = [];
let matched = 0;
let locked = false;

function initGame(){
  matched = 0;
  flipped = [];
  locked = false;
  document.getElementById('pairesCount').textContent = '0';

  // M√©lange
  cardData = shuffle([...EMOJIS, ...EMOJIS]);

  const board = document.getElementById('gameBoard');
  board.innerHTML = '';

  cardData.forEach((emoji, idx) => {
    const card = document.createElement('div');
    card.className = 'card';
    card.dataset.emoji = emoji;
    card.dataset.idx = idx;

    card.innerHTML = `
      <div class="card-face card-back">üé¥</div>
      <div class="card-face card-front">${emoji}</div>
    `;

    card.addEventListener('click', () => flipCard(card));
    board.appendChild(card);
  });
}

function flipCard(card){
  if(locked) return;
  if(card.classList.contains('flipped')) return;
  if(card.classList.contains('matched')) return;

  card.classList.add('flipped');
  flipped.push(card);

  if(flipped.length === 2){
    locked = true;
    setTimeout(checkPair, 800);
  }
}

function checkPair(){
  const [a, b] = flipped;

  if(a.dataset.emoji === b.dataset.emoji){
    a.classList.add('matched');
    b.classList.add('matched');
    matched++;
    document.getElementById('pairesCount').textContent = matched;

    if(matched === EMOJIS.length){
      setTimeout(() => goTo('final'), 700);
    }
  } else {
    a.classList.remove('flipped');
    b.classList.remove('flipped');
  }

  flipped = [];
  locked = false;
}

function shuffle(arr){
  for(let i = arr.length - 1; i > 0; i--){
    const j = Math.floor(Math.random() * (i + 1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ CONFETTI ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function launchConfetti(){
  const colors = ['#e8537a','#f9a8c0','#d4a054','#a8e6cf','#dda0dd','#87ceeb'];
  for(let i = 0; i < 120; i++){
    setTimeout(() => {
      const c = document.createElement('div');
      c.className = 'confetti-piece';
      c.style.left = Math.random() * 100 + 'vw';
      c.style.background = colors[Math.floor(Math.random() * colors.length)];
      c.style.width = (6 + Math.random() * 8) + 'px';
      c.style.height = (6 + Math.random() * 8) + 'px';
      c.style.borderRadius = Math.random() > 0.5 ? '50%' : '2px';
      c.style.animationDuration = (2.5 + Math.random() * 2.5) + 's';
      document.body.appendChild(c);
      setTimeout(() => c.remove(), 6000);
    }, i * 30);
  }
}

// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ SLIDER PHOTOS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
let slideIndex = 0;
const slides = document.querySelectorAll(".slide");
const dotsContainer = document.getElementById("sliderDots");

// Cr√©er les dots
slides.forEach((_, i) => {
  const dot = document.createElement("button");
  dot.className = "s-dot" + (i === 0 ? " active" : "");
  dot.onclick = () => goSlide(i);
  dotsContainer.appendChild(dot);
});

function goSlide(n) {
  slides[slideIndex].classList.remove("active");
  document.querySelectorAll(".s-dot")[slideIndex].classList.remove("active");
  slideIndex = (n + slides.length) % slides.length;
  slides[slideIndex].classList.add("active");
  document.querySelectorAll(".s-dot")[slideIndex].classList.add("active");
}

function slideMove(dir) { goSlide(slideIndex + dir); }

// Auto-d√©filement toutes les 3s
setInterval(() => slideMove(1), 3000);
</script>
</body>
</html>
